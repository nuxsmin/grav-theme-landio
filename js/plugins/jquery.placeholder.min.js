(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof module&&module.exports?d(require("jquery")):d(jQuery)})(function(d){function q(c){var b={},a=/^jQuery\d+$/;d.each(c.attributes,function(c,d){d.specified&&!a.test(d.name)&&(b[d.name]=d.value)});return b}function h(c,b){var a=d(this);if(this.value===a.attr("placeholder")&&a.hasClass(f.customClass))if(this.value="",a.removeClass(f.customClass),a.data("placeholder-password")){a=a.hide().nextAll('input[type="password"]:first').show().attr("id",
a.removeAttr("id").data("placeholder-id"));if(!0===c)return a[0].value=b;a.focus()}else this==m()&&this.select()}function l(c){var b,a=d(this),e=this.id;if(c&&"blur"===c.type&&(a.hasClass(f.customClass)||"password"===this.type&&(b=a.prevAll('input[type="text"]:first'),0<b.length&&b.is(":visible"))))return;if(""===this.value){if("password"===this.type){if(!a.data("placeholder-textinput")){try{b=a.clone().prop({type:"text"})}catch(r){b=d("<input>").attr(d.extend(q(this),{type:"text"}))}b.removeAttr("name").data({"placeholder-enabled":!0,
"placeholder-password":a,"placeholder-id":e}).bind("focus.placeholder",h);a.data({"placeholder-textinput":b,"placeholder-id":e}).before(b)}this.value="";a=a.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",a.data("placeholder-id")).show()}else if(c=a.data("placeholder-password"))c[0].value="",a.attr("id",a.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id");a.addClass(f.customClass);a[0].value=a.attr("placeholder")}else a.removeClass(f.customClass)}
function m(){try{return document.activeElement}catch(c){}}var g="[object OperaMini]"===Object.prototype.toString.call(window.operamini),k="placeholder"in document.createElement("input")&&!g,g="placeholder"in document.createElement("textarea")&&!g,n=d.valHooks,p=d.propHooks,e,f={};k&&g?(e=d.fn.placeholder=function(){return this},e.input=!0,e.textarea=!0):(e=d.fn.placeholder=function(c){f=d.extend({},{customClass:"placeholder"},c);return this.filter((k?"textarea":":input")+"[placeholder]").not("."+
f.customClass).bind({"focus.placeholder":h,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder")},e.input=k,e.textarea=g,e={get:function(c){var b=d(c),a=b.data("placeholder-password");return a?a[0].value:b.data("placeholder-enabled")&&b.hasClass(f.customClass)?"":c.value},set:function(c,b){var a=d(c),e,g;""!==b&&(e=a.data("placeholder-textinput"),g=a.data("placeholder-password"),e?(h.call(e[0],!0,b)||(c.value=b),e[0].value=b):g&&(h.call(c,!0,b)||(g[0].value=b),c.value=
b));if(!a.data("placeholder-enabled"))return c.value=b,a;""===b?(c.value=b,c!=m()&&l.call(c)):(a.hasClass(f.customClass)&&h.call(c),c.value=b);return a}},k||(n.input=e,p.value=e),g||(n.textarea=e,p.value=e),d(function(){d(document).delegate("form","submit.placeholder",function(){var c=d("."+f.customClass,this).each(function(){h.call(this,!0,"")});setTimeout(function(){c.each(l)},10)})}),d(window).bind("beforeunload.placeholder",function(){d("."+f.customClass).each(function(){this.value=""})}))});
